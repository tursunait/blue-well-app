# BlueWell Application Testing Guide

## üöÄ Application Status

### Servers Running:
- **Next.js Frontend**: http://localhost:3000
- **FastAPI Backend**: http://localhost:8000
- **API Documentation**: http://localhost:8000/docs

## üß™ Testing Checklist

### 1. Welcome & Onboarding Flow
- [ ] Visit http://localhost:3000
- [ ] Should see welcome page
- [ ] Click "Start Your Journey" ‚Üí goes to onboarding
- [ ] Complete onboarding survey (10 questions):
  - Personal details (compound question)
  - Wellness goals (multi-select)
  - Activity level
  - Fitness preferences
  - Schedule consistency
  - Time budget
  - Meal regularity
  - Budget (optional)
  - Barriers
  - Support preferences
- [ ] Verify survey saves answers
- [ ] After completion, should redirect to /home

### 2. Home Dashboard
- [ ] Visit http://localhost:3000/home
- [ ] Should see:
  - Daily progress indicators (Calories, Steps, Protein)
  - Weekly meal plan preview
  - Weekly workout plan preview
  - AI recommendations (MyRec classes, meal plans, meal delivery)
  - Timeline for next 6 hours
- [ ] Check that data loads from API

### 3. Plan Page
- [ ] Visit http://localhost:3000/plan
- [ ] Should show:
  - Today's calorie and protein targets
  - Meal recommendations with times
  - Workout suggestions
  - Goal achievement tips
- [ ] Verify plan is generated by AI (check server logs)
- [ ] Test error handling (if user not onboarded)

### 4. Meal Logging
- [ ] Visit http://localhost:3000/log
- [ ] Should see:
  - Fitness goals cards (Calories, Steps, Protein)
  - Camera button for photo upload
  - Manual entry option
- [ ] Test photo upload (if FastAPI is running)
- [ ] Test manual entry
- [ ] Verify meal is saved to database
- [ ] Check that stats update on home page

### 5. AI Chat
- [ ] Visit http://localhost:3000/ai
- [ ] Test chat functionality:
  - Send: "What workout should I do?"
  - Send: "Suggest a meal"
  - Send: "Find a class"
  - Send: "What's my plan today?"
- [ ] Verify responses include action cards
- [ ] Test action card interactions

### 6. Profile Page
- [ ] Visit http://localhost:3000/profile
- [ ] Check user information display
- [ ] Test any settings/editing features

### 7. Navigation
- [ ] Test bottom navigation bar:
  - Home
  - Planner
  - AI
  - Profile
- [ ] Verify active state highlighting
- [ ] Check navigation works on all pages

## üîç API Endpoints to Test

### Authentication
- Dev mode should auto-create test user
- Check: http://localhost:3000/api/profile

### Plans
- GET http://localhost:3000/api/plan/today
- GET http://localhost:3000/api/plan/weekly
- GET http://localhost:3000/api/plan/next6h

### Stats
- GET http://localhost:3000/api/stats/today

### Menu Search
- GET http://localhost:3000/api/menu/search?q=chicken

### Logging
- POST http://localhost:3000/api/log/meal
  ```json
  {
    "itemName": "Grilled Chicken",
    "calories": 300,
    "proteinG": 30,
    "carbsG": 0,
    "fatG": 10,
    "source": "MANUAL"
  }
  ```

## üêõ Common Issues & Solutions

### Issue: "Unauthorized" errors
**Solution**: Check that `SKIP_AUTH=true` in `apps/web/.env.local` and restart server

### Issue: Plan generation fails
**Solution**: 
- Verify `OPENAI_API_KEY` is set correctly
- Check user has completed onboarding
- Check server logs for detailed errors

### Issue: Database errors
**Solution**:
- Verify `DATABASE_URL` points to correct SQLite file
- Run: `cd apps/web && pnpm prisma generate`
- Check database file exists: `apps/web/prisma/dev.db`

### Issue: FastAPI not responding
**Solution**:
- Check FastAPI is running: `curl http://localhost:8000/health`
- Check Python dependencies: `cd apps/api && source venv/bin/activate && pip list`

## üìä Database Inspection

To view/edit database:
```bash
cd apps/web
pnpm prisma studio
```
Opens at http://localhost:5555

## üéØ Key Features to Verify

1. **Onboarding Flow**: All question types work (compound, multi, slider, fitness-preferences)
2. **AI Plan Generation**: Plans are generated with meals and workouts
3. **Meal Logging**: Can log meals and see stats update
4. **Menu Search**: Can search for menu items
5. **Navigation**: All pages accessible and navigation works
6. **Responsive Design**: App works on mobile and desktop
7. **Error Handling**: Graceful error messages for API failures

## üìù Notes

- Dev mode is enabled (`SKIP_AUTH=true`), so no Google OAuth needed
- Test user is auto-created: `test@halo.com`
- Database is SQLite (no PostgreSQL needed)
- OpenAI API key is required for AI features

